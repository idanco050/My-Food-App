{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\IdanC\\\\Documents\\\\React\\\\meal-app\\\\src\\\\components\\\\MealForm.js\",\n  _s = $RefreshSig$();\nimport { Fragment, useContext, useRef } from \"react\";\nimport classes from \"./MealItemForm.module.css\";\nimport CartContext from \"./CartContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MealForm = props => {\n  _s();\n  const {\n    cart,\n    addItem,\n    setCart\n  } = useContext(CartContext);\n  const amountInput = useRef();\n  function isNum(v) {\n    return /\\d/.test(v);\n  }\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (isNum(amountInput.current.value)) {\n      let sameItem = false;\n      cart.map(item => {\n        if (item.data.name === props.data.name) {\n          sameItem = true;\n          return;\n        }\n        return;\n      });\n      if (sameItem) {\n        let newCart = cart.map(item => {\n          if (item.data.name === props.data.name) {\n            let data = {\n              id: props.data.id,\n              name: props.data.name,\n              description: props.data.description,\n              price: item.data.price + props.data.price * parseInt(amountInput.current.value)\n            };\n            return {\n              data: data,\n              amount: parseInt(amountInput.current.value) + item.amount,\n              OGprice: props.data.price\n            };\n          } else {\n            return item;\n          }\n        });\n        setCart(newCart);\n      } else {\n        let data = {\n          id: props.data.id,\n          name: props.data.name,\n          description: props.data.description,\n          price: props.data.price * parseInt(amountInput.current.value)\n        };\n        addItem({\n          data: data,\n          amount: parseInt(amountInput.current.value),\n          OGprice: props.data.price\n        });\n      }\n      amountInput.current.value = \"\";\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: classes.form,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"amount\",\n        className: classes.label,\n        children: props.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"amount\",\n        ref: amountInput,\n        className: classes.input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: classes.button,\n        type: \"submit\",\n        children: props.btnLabel\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(MealForm, \"LiuMwYATr6OT56VK/Aau4ZHN1GU=\");\n_c = MealForm;\nexport default MealForm;\nvar _c;\n$RefreshReg$(_c, \"MealForm\");","map":{"version":3,"names":["Fragment","useContext","useRef","classes","CartContext","MealForm","props","cart","addItem","setCart","amountInput","isNum","v","test","handleSubmit","event","preventDefault","current","value","sameItem","map","item","data","name","newCart","id","description","price","parseInt","amount","OGprice","form","label","input","button","btnLabel"],"sources":["C:/Users/IdanC/Documents/React/meal-app/src/components/MealForm.js"],"sourcesContent":["import { Fragment, useContext, useRef } from \"react\";\r\nimport classes from \"./MealItemForm.module.css\";\r\nimport CartContext from \"./CartContext\";\r\nconst MealForm = (props) => {\r\n  const { cart, addItem, setCart } = useContext(CartContext);\r\n  const amountInput = useRef();\r\n\r\n  function isNum(v) {\r\n    return /\\d/.test(v);\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (isNum(amountInput.current.value)) {\r\n      let sameItem = false;\r\n\r\n      cart.map((item) => {\r\n        if (item.data.name === props.data.name) {\r\n          sameItem = true;\r\n          return;\r\n        }\r\n        return;\r\n      });\r\n      if (sameItem) {\r\n        let newCart = cart.map((item) => {\r\n          if (item.data.name === props.data.name) {\r\n            let data = {\r\n              id: props.data.id,\r\n              name: props.data.name,\r\n              description: props.data.description,\r\n              price:\r\n                item.data.price +\r\n                props.data.price * parseInt(amountInput.current.value),\r\n            };\r\n            return {\r\n              data: data,\r\n              amount: parseInt(amountInput.current.value) + item.amount,\r\n              OGprice: props.data.price,\r\n            };\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setCart(newCart);\r\n      } else {\r\n        let data = {\r\n          id: props.data.id,\r\n          name: props.data.name,\r\n          description: props.data.description,\r\n          price: props.data.price * parseInt(amountInput.current.value),\r\n        };\r\n        addItem({\r\n          data: data,\r\n          amount: parseInt(amountInput.current.value),\r\n          OGprice: props.data.price,\r\n        });\r\n      }\r\n      amountInput.current.value = \"\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      \r\n        <form onSubmit={handleSubmit} className={classes.form}>\r\n          <label htmlFor=\"amount\" className ={classes.label}>{props.label}</label>\r\n          <input id=\"amount\" ref={amountInput} className ={classes.input}></input>\r\n          <button className={classes.button} type=\"submit\">\r\n            {props.btnLabel}\r\n          </button>\r\n        </form>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default MealForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}